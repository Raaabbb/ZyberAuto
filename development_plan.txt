================================================================================
ZYBERAUTO - ANDROID DEVELOPMENT PLAN
Auto Service Management System
================================================================================
Generated: January 29, 2026
Target Platform: Android (Kotlin + Java)
Architecture: MVVM with Clean Architecture

================================================================================
PHASE 1: PROJECT SETUP & ARCHITECTURE
================================================================================

1.1 Project Configuration
    - Minimum SDK: API 24 (Android 7.0)
    - Target SDK: API 34 (Android 14)
    - Build System: Gradle with Kotlin DSL
    - Language: Kotlin (primary), Java (interop where needed)

1.2 Dependencies to Add
    - Jetpack Compose (UI framework)
    - Navigation Component (screen navigation)
    - Hilt (dependency injection)
    - Retrofit + OkHttp (future API integration)
    - Room Database (local data persistence - placeholder for now)
    - Coroutines + Flow (async operations)
    - Material Design 3 Components
    - DataStore (preferences storage)
    - Coil (image loading)

1.3 Package Structure
    com.example.zyberauto/
    ├── data/
    │   ├── model/              # Data classes
    │   ├── repository/         # Repository implementations
    │   └── local/              # Local data sources (mock for now)
    ├── domain/
    │   ├── model/              # Domain entities
    │   ├── repository/         # Repository interfaces
    │   └── usecase/            # Business logic use cases
    ├── presentation/
    │   ├── auth/               # Login, Register, Password screens
    │   ├── customer/           # Customer portal screens
    │   ├── secretary/          # Secretary portal screens
    │   ├── common/             # Shared UI components
    │   └── navigation/         # Navigation graph setup
    ├── di/                     # Dependency injection modules
    └── util/                   # Utilities and extensions

================================================================================
PHASE 2: AUTHENTICATION MODULE
================================================================================

2.1 Screens to Implement
    [A] Login Screen (LoginScreen.kt)
        - Two-panel layout (branding + form)
        - Username and password fields
        - Password visibility toggle
        - "Sign In" button
        - "Register here" navigation link
        - Role-based redirection after login

    [B] Registration Screen (RegisterScreen.kt)
        - Username field
        - Password field
        - Confirm password field
        - Client-side validation (password match)
        - Success/error feedback

    [C] Forced Password Change Screen (ChangePasswordScreen.kt)
        - Current password field
        - New password field
        - Confirm new password field
        - Validation: min 8 chars, not default "12345678"

    [D] Logout Confirmation Dialog
        - Confirmation modal
        - "Yes, Log Out" and "Cancel" buttons

2.2 Authentication Logic
    - Create AuthViewModel for state management
    - Implement session management using DataStore
    - Store: user_id, username, role
    - Role detection: if username contains "secretary" → secretary role
    - Default password detection for forced change

2.3 Data Models
    data class User(
        val id: Int,
        val username: String,
        val role: UserRole,  // CUSTOMER, SECRETARY, ADMIN
        val requiresPasswordChange: Boolean
    )

================================================================================
PHASE 3: CUSTOMER PORTAL MODULE
================================================================================

3.1 Navigation Structure
    - Bottom Navigation or Drawer Navigation
    - Tabs: My Bookings | My Complaints | File Complaint | Settings

3.2 Screens to Implement

    [A] My Bookings Screen (CustomerBookingsScreen.kt)
        - List of booking cards
        - Each card shows:
          * Order number
          * Vehicle (make/model, plate)
          * Service name
          * Status badge (Pending/Accepted/Rejected)
          * Bill amount
          * Date and time slot
        - FAB or button: "NEW BOOKING"
        - Status mapping logic:
          * "In Progress" → display as "Accepted"
          * "Waiting on Parts" → display as "Rejected"

    [B] New Booking Screen (NewBookingScreen.kt)
        - Form sections:
          * Vehicle Information
            - Brand dropdown/text
            - Model/Type field
            - Plate number field
          * Service Details
            - Service type dropdown
          * Preferred Schedule
            - Date picker
            - Time slot picker
          * Notes
            - Multiline text field
        - Submit button
        - Validation before submission

    [C] Booking Confirmation Screen (BookingConfirmationScreen.kt)
        - Confirmation number display
        - Booking summary card
        - "Back to My Bookings" button

    [D] File Complaint Screen (FileComplaintScreen.kt)
        - Subject field
        - Message/details multiline field
        - Submit button with confirmation dialog
        - Success feedback

    [E] My Complaints Screen (CustomerComplaintsScreen.kt)
        - List of complaint cards
        - Each card shows:
          * Subject
          * Status badge (New/Replied)
          * Submitted timestamp
          * Reply content (if replied)
          * Reply timestamp (if replied)

    [F] Settings Screen (CustomerSettingsScreen.kt)
        - Full name field
        - Phone number field
        - Email field
        - Save button
        - Change password link/button

3.3 ViewModels
    - CustomerBookingsViewModel
    - NewBookingViewModel
    - CustomerComplaintsViewModel
    - CustomerSettingsViewModel

3.4 Data Models
    data class Booking(
        val id: Int,
        val orderNumber: String,
        val vehicleMake: String,
        val vehicleModel: String,
        val vehiclePlate: String,
        val serviceName: String,
        val status: BookingStatus,
        val billAmount: Double,
        val date: LocalDate,
        val timeSlot: String,
        val notes: String?,
        val rejectionReason: String?
    )

    enum class BookingStatus {
        PENDING, IN_PROGRESS, WAITING_ON_PARTS, COMPLETED
    }

    data class Complaint(
        val id: Int,
        val subject: String,
        val message: String,
        val status: ComplaintStatus,
        val submittedAt: LocalDateTime,
        val reply: String?,
        val repliedAt: LocalDateTime?
    )

    enum class ComplaintStatus { NEW, REPLIED }

================================================================================
PHASE 4: SECRETARY PORTAL MODULE
================================================================================

4.1 Navigation Structure
    - Drawer Navigation (recommended for more menu items)
    - Menu Items: Dashboard | Appointments | Customers | Booking Requests |
                  Inquiries | Reports | Inventory | Log Out

4.2 Screens to Implement

    [A] Dashboard Screen (SecretaryDashboardScreen.kt)
        - KPI Cards Grid:
          * Today's Appointments count
          * Total Customers count
          * Total Revenue (In Progress + Completed)
          * New Complaints count
          * Year-to-Date Revenue
        - Monthly Revenue Chart (line/bar chart)
        - Use MPAndroidChart or Compose charts library

    [B] Booking Requests Screen (BookingRequestsScreen.kt)
        - Search bar
        - Filter chips: All | Pending | Approved | Rejected
        - List/Table of requests:
          * Customer name
          * Vehicle info
          * Service type
          * Schedule
          * Status badge
        - Action buttons per row:
          * Accept → status = "In Progress"
          * Reject → opens rejection reason dialog

    [C] Booking Request Details Screen (BookingDetailsScreen.kt)
        - Full booking information display
        - Customer details section
        - Vehicle details section
        - Service details section
        - Schedule section
        - Accept/Decline action buttons

    [D] Reject Booking Dialog
        - Reason text field
        - Confirm and Cancel buttons

    [E] Appointments Screen (AppointmentsScreen.kt)
        - Customer selector dropdown
        - Date picker
        - Time slot picker
        - Service selection
        - Schedule button

    [F] Walk-in Submission Screen (WalkInScreen.kt)
        - Customer details form (new customer)
        - Vehicle details form
        - Service selection
        - Submit button (auto-sets status to "In Progress")

    [G] Customer Management Screen (CustomersScreen.kt)
        - Searchable customer list
        - Customer cards with:
          * Name
          * Phone
          * Email
        - Tap to view details

    [H] Inquiries/Complaints Screen (InquiriesScreen.kt)
        - Searchable complaints list
        - Status filter
        - Each item shows:
          * Customer name
          * Subject
          * Status
          * Date
        - Tap to open detail modal/screen

    [I] Complaint Detail Dialog/Screen
        - Full complaint message
        - Reply text field
        - "Send Reply" button
        - Updates status to "Replied"

    [J] Inventory Screen (InventoryScreen.kt)
        - List of inventory items:
          * Item name
          * Category
          * Quantity
        - Add item FAB
        - Edit/Delete actions per item
        - Add/Edit form dialog

    [K] Reports Screen (ReportsScreen.kt)
        - Revenue Analysis card/button
        - Report view:
          * Total revenue
          * Transaction breakdown list
        - Print button (share intent)
        - Export PDF button (PDF generation library)

4.3 ViewModels
    - DashboardViewModel
    - BookingRequestsViewModel
    - AppointmentsViewModel
    - CustomersViewModel
    - InquiriesViewModel
    - InventoryViewModel
    - ReportsViewModel

4.4 Data Models
    data class DashboardMetrics(
        val todayAppointments: Int,
        val totalCustomers: Int,
        val totalRevenue: Double,
        val newComplaints: Int,
        val ytdRevenue: Double,
        val monthlyRevenue: List<MonthlyRevenue>
    )

    data class MonthlyRevenue(
        val month: Int,
        val year: Int,
        val amount: Double
    )

    data class Customer(
        val id: Int,
        val name: String,
        val phone: String,
        val email: String
    )

    data class InventoryItem(
        val id: Int,
        val name: String,
        val category: String,
        val quantity: Int
    )

================================================================================
PHASE 5: SHARED COMPONENTS & UI LIBRARY
================================================================================

5.1 Common UI Components
    - StatusBadge composable (Pending/Accepted/Rejected/New/Replied)
    - LoadingSpinner composable
    - ErrorDialog composable
    - ConfirmationDialog composable
    - ToastMessage/Snackbar handler
    - FormTextField (with validation support)
    - DatePickerField
    - TimePickerField
    - DropdownField
    - KPICard composable
    - SearchBar composable
    - FilterChips composable

5.2 Theme Configuration
    - Define color scheme in Theme.kt
    - Primary colors for branding
    - Status colors:
      * Pending: Yellow/Amber
      * Accepted/In Progress: Green
      * Rejected: Red
      * New: Blue
      * Replied: Gray/Green
    - Typography setup
    - Shape definitions

5.3 Navigation Setup
    - Sealed class for Routes
    - NavHost configuration
    - Argument passing between screens
    - Deep linking support (optional)

================================================================================
PHASE 6: MOCK DATA LAYER (NO DATABASE)
================================================================================

6.1 Mock Data Providers
    Create mock data classes that return static/fake data for development:

    - MockAuthRepository
      * Hardcoded users for testing
      * Login validation logic
      * Session simulation

    - MockBookingRepository
      * List of sample bookings
      * CRUD operations on in-memory list

    - MockComplaintRepository
      * Sample complaints
      * Reply functionality

    - MockCustomerRepository
      * Sample customer list

    - MockInventoryRepository
      * Sample inventory items
      * Add/Edit/Delete on in-memory list

    - MockDashboardRepository
      * Generate fake metrics
      * Fake monthly revenue data

6.2 Repository Interfaces
    Define interfaces that mock repositories implement:
    - IAuthRepository
    - IBookingRepository
    - IComplaintRepository
    - ICustomerRepository
    - IInventoryRepository
    - IDashboardRepository

    This allows easy swap to real database/API later.

================================================================================
PHASE 7: IMPLEMENTATION ORDER & MILESTONES
================================================================================

MILESTONE 1: Foundation (Week 1-2)
    □ Project setup with dependencies
    □ Package structure creation
    □ Theme and common components
    □ Navigation skeleton
    □ Mock data providers

MILESTONE 2: Authentication (Week 2-3)
    □ Login screen UI
    □ Registration screen UI
    □ AuthViewModel with mock auth
    □ Session management
    □ Role-based navigation
    □ Password change screen

MILESTONE 3: Customer Portal - Bookings (Week 3-4)
    □ Customer navigation setup
    □ My Bookings screen with list
    □ New Booking form
    □ Booking confirmation screen
    □ BookingsViewModel

MILESTONE 4: Customer Portal - Complaints & Settings (Week 4-5)
    □ File Complaint screen
    □ My Complaints screen
    □ Settings screen
    □ Related ViewModels

MILESTONE 5: Secretary Portal - Core (Week 5-6)
    □ Secretary navigation setup
    □ Dashboard screen with KPIs
    □ Dashboard chart integration
    □ Booking Requests screen
    □ Accept/Reject functionality

MILESTONE 6: Secretary Portal - Extended (Week 6-7)
    □ Appointments screen
    □ Walk-in submission
    □ Customer management
    □ Inquiries/Complaints management

MILESTONE 7: Secretary Portal - Inventory & Reports (Week 7-8)
    □ Inventory management screen
    □ Reports screen
    □ PDF export functionality
    □ Print/Share functionality

MILESTONE 8: Polish & Testing (Week 8-9)
    □ UI/UX refinements
    □ Error handling improvements
    □ Edge case handling
    □ Unit tests for ViewModels
    □ UI tests for critical flows

================================================================================
PHASE 8: FUTURE ENHANCEMENTS (POST-MVP)
================================================================================

8.1 Database Integration
    - Implement Room database
    - Create entities matching data models
    - DAOs for each entity
    - Migrations strategy

8.2 API Integration
    - Retrofit service interfaces
    - API response mapping
    - Error handling
    - Offline-first with sync

8.3 Additional Features
    - Push notifications (FCM)
    - Email/SMS notifications
    - Mechanic/Technician assignment
    - File attachments for complaints
    - Admin portal implementation
    - Audit logging
    - CSRF protection
    - Two-factor authentication

================================================================================
NOTES & CONSIDERATIONS
================================================================================

1. The system has two distinct user experiences (Customer vs Secretary).
   Consider using separate Activity or navigation graphs for each portal.

2. Status mapping is important:
   - Backend stores: "In Progress", "Waiting on Parts"
   - UI displays: "Accepted", "Rejected"

3. Role detection from username ("secretary" substring) is a temporary
   solution. Plan for proper role assignment in future.

4. The admin role is mentioned but not implemented. Keep placeholder
   for future expansion.

5. For PDF generation, consider libraries:
   - iText (commercial) or OpenPDF (open source)
   - Android Print Framework for printing

6. For charts, consider:
   - MPAndroidChart (View-based)
   - Vico or YCharts (Compose-native)

================================================================================
END OF DEVELOPMENT PLAN
================================================================================
